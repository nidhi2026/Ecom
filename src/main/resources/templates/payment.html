<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Payment</title>
</head>
<body>
    <h1>Payment Options</h1>

    <!-- Payment Form -->
    <form th:action="@{/order/placeOrder}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> <!-- CSRF Token -->
        
        <!-- Hidden field to pass selected address ID and user information -->
        <input type="hidden" name="addressID" th:value="${addressID}"/>

        <!-- Select Payment Mode -->
        <h3>Select Payment Mode:</h3>
        <div>
            <label>
                <input type="radio" name="paymentMode" value="CASH_ON_DELIVERY" required/> Cash on Delivery
            </label><br/>
            <label>
                <input type="radio" name="paymentMode" value="UPI"/> UPI
            </label><br/>
            <label>
                <input type="radio" name="paymentMode" value="NET_BANKING"/> Net Banking
            </label>
        </div>

        <!-- Display Total Amount -->
        <h3>Total Amount: <span th:text="'$' + ${totalAmount}">0.00</span></h3>
        <input type="hidden" name="totalAmount" th:value="${totalAmount}" />

        <!-- Button to Place Order -->
        <button type="submit">Place Order</button>
    </form>
</body>
</html>
